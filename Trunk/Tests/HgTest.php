<?php

	require_once 'PHPUnit/Framework.php';
	require_once 'H:/Development/_Webroot/Trunk/VersionControl/Hg.php';

	/**
	 * Test class for Hg.
	 * Generated by PHPUnit on 2008-12-24 at 13:06:43.
	 */
	class HgTest extends PHPUnit_Framework_TestCase
	{
		/**
		 *
		 * @var Hg
		 */
		private $_object;

    	/**
    	 * Sets up the fixture, for example, opens a network connection.
    	 * This method is called before a test is executed.
    	 */
		protected function setUp()
		{
			$this->_object = new Hg(); //should return the raw version?
		}

		public function testSetVersion()
		{

		}

		public function testGetVersion()
		{
		    $version = $this->_object->getVersion(); //returns an array.
		    print_r($version);
		    //these values will be different on other actual installations.
		    $this->assertEquals( $version['raw'], '1.1+20081203');
		    $this->assertEquals( $version['complete'], '1.1');
		    $this->assertEquals( $version['major'], '1');
		    $this->assertEquals( $version['minor'], '1');
		    $this->assertEquals( $version['date'], '20081203');

		}

	    public function testGetVersionWithUnrecognizableInput()
		{
		    try {
				//this should raise an exception.
				$this->_object->getVersion( 'unknown' );
			}
			catch(Exception $e) {
				return;
			}
		}

    	/**
	     * Tears down the fixture, for example, closes a network connection.
    	 * This method is called after a test is executed.
	     */
		public function tearDown() {}

	}

?>